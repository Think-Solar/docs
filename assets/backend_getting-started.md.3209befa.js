import{f as e,a,c as t,e as n}from"./app.d6487981.js";const m=JSON.parse('{"title":"Getting Started with the Suite backend","description":"","frontmatter":{"layout":"doc"},"headers":[{"level":2,"title":"Cloning the project","slug":"cloning-the-project","link":"#cloning-the-project","children":[]},{"level":2,"title":"Laravel Sail & Docker","slug":"laravel-sail-docker","link":"#laravel-sail-docker","children":[]},{"level":2,"title":"Database setup","slug":"database-setup","link":"#database-setup","children":[]},{"level":2,"title":"Local hostnames","slug":"local-hostnames","link":"#local-hostnames","children":[]}],"relativePath":"backend/getting-started.md","lastUpdated":1675159040000}'),o={name:"backend/getting-started.md"},s=n(`<h1 id="getting-started-with-the-suite-backend" tabindex="-1">Getting Started with the Suite backend <a class="header-anchor" href="#getting-started-with-the-suite-backend" aria-hidden="true">#</a></h1><h2 id="cloning-the-project" tabindex="-1">Cloning the project <a class="header-anchor" href="#cloning-the-project" aria-hidden="true">#</a></h2><p>To get started working on the backend, you will first need to clone the project from the ThinkSolar GitHub.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">git clone https://github.com/Think-Solar/api.thinksolar.co.nz-v3.git</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The repository is private, so you will need to be added to the ThinkSolar GitHub organisation to access it. Contact <a href="mailto:software@thinksolar.co.nz" target="_blank" rel="noreferrer">software@thinksolar.co.nz</a> for details.</p></div><p>Once you have cloned the project, navigate to the project root and run <code>composer install</code> to install all the necessary dependencies.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When setting up for the first time, its possible none of the application&#39;s Composer dependencies, including Sail, will be installed after you clone the application&#39;s repository to your local computer.</p><p>You may install the application&#39;s dependencies by navigating to the application&#39;s directory and executing the following command. This command uses a small Docker container containing PHP and Composer to install the application&#39;s dependencies:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">docker run --rm \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-u &quot;$(id -u):$(id -g)&quot; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-v &quot;$(pwd):/var/www/html&quot; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-w /var/www/html \\</span></span>
<span class="line"><span style="color:#A6ACCD;">laravelsail/php82-composer:latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">composer install --ignore-platform-reqs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></div><h2 id="laravel-sail-docker" tabindex="-1">Laravel Sail &amp; Docker <a class="header-anchor" href="#laravel-sail-docker" aria-hidden="true">#</a></h2><p>We&#39;re using Laravel Sail &amp; Docker to package the app, its dependencies and its configuration into a single container. This makes it easy to run and deploy the app on any machine that has Docker installed, and ensures that it will run consistently across different environments; this eliminates the &quot;works on my machine&quot; problem.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ol><li><p>You will need to have Docker installed on your machine in order to bring up the container. Check the latest Laravel documentation for more information and instructions for installing Sail and Docker <a href="https://laravel.com/docs/9.x/sail" target="_blank" rel="noreferrer">https://laravel.com/docs/9.x/sail</a></p></li><li><p>Laravel Sail refers to the <code>.env</code> file at the root of the project in order to set up the container. You should copy the <code>.env.local</code> file and rename it to <code>.env</code> <strong>before</strong> bringing up the container for the first time.</p></li><li><p>By default, our setup maps local ports 80, 3306 and 6379 to the container. If you are already using any of these ports on your machine, you can change the port mappings in the <code>.env</code> file. Do <strong>NOT</strong> commit these changes to the repository.</p></li></ol></div><p>With Docker installed and the correct <code>.env</code> file in place, you can bring up the container by running the following command in the project root:</p><p><code>./vendor/bin/sail up</code></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This can be shortened to simply <code>sail up</code> by setting up a shell alias.</p><p><a href="https://laravel.com/docs/9.x/sail#configuring-a-shell-aliase" target="_blank" rel="noreferrer">https://laravel.com/docs/9.x/sail#configuring-a-shell-aliase</a></p></div><h2 id="database-setup" tabindex="-1">Database setup <a class="header-anchor" href="#database-setup" aria-hidden="true">#</a></h2><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>WIP</p></div><p>Once the container is up and running, you can run the database migrations and seed the database with some test data by running the following commands:</p><h2 id="local-hostnames" tabindex="-1">Local hostnames <a class="header-anchor" href="#local-hostnames" aria-hidden="true">#</a></h2><p>By default, our frontend project makes requests to <code>http://api.thinksolar.local:80</code>. You can change this locally if you want to, otherwise, remember to add the following hostnames to your local hosts file:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">127.0.0.1 api.thinksolar.local</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>At this stage the app should be available at <a href="http://api.thinksolar.local" target="_blank" rel="noreferrer">http://api.thinksolar.local</a></p>`,20),l=[s];function i(r,c,p,d,h,u){return a(),t("div",null,l)}const b=e(o,[["render",i]]);export{m as __pageData,b as default};
